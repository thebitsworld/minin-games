{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\Common/assets\\script\\Common\\Tip.js"],"names":["G","require","cc","Class","extends","Component","properties","label","Node","onLoad","Tip","node","active","parent","position","v2","game","addPersistRootNode","start","initpos","show","str","pos","lastNode","instantiate","y","height","x","getChildByName","getComponent","Label","string","runAction","sequence","moveBy","callFunc","destroy"],"mappings":";;;;;;AAAA,IAAIA,IAAIC,QAAQ,GAAR,CAAR;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAC,eAAOL,GAAGM;AAjBF,KAHP;;AAwBLC,UAxBK,oBAwBI;AACLT,UAAEU,GAAF,GAAQ,IAAR;AACA,aAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB;;AAEA,aAAKL,KAAL,CAAWK,MAAX,GAAoB,KAApB;;AAEA,aAAKD,IAAL,CAAUE,MAAV,GAAmB,IAAnB;AACA,aAAKF,IAAL,CAAUG,QAAV,GAAqBZ,GAAGa,EAAH,CAAM,GAAN,EAAW,GAAX,CAArB;AACAb,WAAGc,IAAH,CAAQC,kBAAR,CAA2B,KAAKN,IAAhC;AACH,KAjCI;AAmCLO,SAnCK,mBAmCG;AACJ,aAAKC,OAAL,GAAe,KAAKZ,KAAL,CAAWO,QAA1B;AACH,KArCI;AAuCLM,QAvCK,gBAuCAC,GAvCA,EAuCK;AACN,YAAIC,YAAJ;AACA,YAAI,KAAKC,QAAT,EAAmB;AACfD,kBAAM,KAAKC,QAAL,CAAcT,QAApB;AACH;;AAGD,YAAIH,OAAOT,GAAGsB,WAAH,CAAe,KAAKjB,KAApB,CAAX;;AAGA,aAAKgB,QAAL,GAAgBZ,IAAhB;;AAEA,YAAIW,OAAOA,IAAIG,CAAJ,GAAQ,KAAKN,OAAL,CAAaM,CAAb,GAAiB,KAAKlB,KAAL,CAAWmB,MAA/C,EAAuD;AAAE;;AAErDf,iBAAKG,QAAL,GAAgBZ,GAAGa,EAAH,CAAMO,IAAIK,CAAV,EAAaL,IAAIG,CAAJ,GAAQ,KAAKlB,KAAL,CAAWmB,MAAnB,GAA0B,CAAvC,CAAhB;AACH;;AAEDf,aAAKC,MAAL,GAAc,IAAd;;AAEAD,aAAKiB,cAAL,CAAoB,OAApB,EAA6BC,YAA7B,CAA0C3B,GAAG4B,KAA7C,EAAoDC,MAApD,GAA6DV,MAAM,EAAnE;;AAEA;;AAEAV,aAAKqB,SAAL,CAAe9B,GAAG+B,QAAH,CAAY/B,GAAGgC,MAAH,CAAU,CAAV,EAAa,CAAb,EAAgB,GAAhB,CAAZ,EAAkChC,GAAGiC,QAAH,CAAY,YAAM;;AAE/DxB,iBAAKyB,OAAL;AACH,SAHgD,CAAlC,CAAf;AAIAzB,aAAKE,MAAL,GAAc,KAAKF,IAAnB;AAEH;AApEI;AAqEL;AArEJ","file":"Tip.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\Common","sourcesContent":["var G = require(\"G\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n\r\n        label: cc.Node,\r\n    },\r\n\r\n\r\n    onLoad() {\r\n        G.Tip = this;\r\n        this.node.active = true;\r\n\r\n        this.label.active = false;\r\n\r\n        this.node.parent = null;\r\n        this.node.position = cc.v2(375, 967);\r\n        cc.game.addPersistRootNode(this.node);\r\n    },\r\n\r\n    start() {\r\n        this.initpos = this.label.position;\r\n    },\r\n\r\n    show(str) {\r\n        let pos;\r\n        if (this.lastNode) {\r\n            pos = this.lastNode.position;\r\n        }\r\n\r\n\r\n        let node = cc.instantiate(this.label);\r\n\r\n\r\n        this.lastNode = node;\r\n\r\n        if (pos && pos.y < this.initpos.y + this.label.height) { //出现在上个的下方\r\n\r\n            node.position = cc.v2(pos.x, pos.y - this.label.height-5);\r\n        }\r\n\r\n        node.active = true;\r\n\r\n        node.getChildByName(\"label\").getComponent(cc.Label).string = str + \"\";\r\n\r\n        /// cc.director.getScheduler().getTimeScale()\r\n\r\n        node.runAction(cc.sequence(cc.moveBy(2, 0, 200), cc.callFunc(() => {\r\n\r\n            node.destroy();\r\n        })));\r\n        node.parent = this.node;\r\n\r\n    },\r\n    // update (dt) {},\r\n});"]}