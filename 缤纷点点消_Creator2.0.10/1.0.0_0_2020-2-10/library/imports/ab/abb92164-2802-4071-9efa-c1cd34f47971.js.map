{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\Game/assets\\script\\Game\\OverUI.js"],"names":["SNS","require","G","sdkConfig","cc","Class","extends","Component","properties","scoreLabel","Label","maxscoreLabel","overEffect","AudioClip","addCoin","btnEffect","bencidefen_but_01","Node","onLoad","score","changeScore","createBannerAd","audioEngine","playEffect","string","game","gametime","runSDK","sdk_key_xiaomi","active","sdk_key_oppo","sdk_key_vivo","start","ad","hideAD","showVideo","addtime","director","loadScene","Tip","show","log","share","restart","shareLocal","tempfire","back"],"mappings":"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","file":"OverUI.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\Game","sourcesContent":["// var Colors = require(\"Colors\");\r\nvar SNS = require(\"SNS\");\r\nvar G = require(\"G\");\r\nvar sdkConfig = require(\"PolySDK\").sdkConfig;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // gameText:{\r\n        //     default:null,\r\n        //     type:cc.Node\r\n        // },\r\n        // textLabel:{\r\n        //     default:null,\r\n        //     type:cc.Label\r\n        // },\r\n        scoreLabel: cc.Label,\r\n        maxscoreLabel: cc.Label,\r\n        overEffect: cc.AudioClip,\r\n        addCoin: cc.AudioClip,\r\n        btnEffect: cc.AudioClip,\r\n        bencidefen_but_01:cc.Node,\r\n        // score:0,\r\n        // changeScore:0,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n        \r\n        this.score = 0;\r\n        this.changeScore = 0;\r\n        SNS.createBannerAd();\r\n        // 背景层\r\n        // this.bg.width = cc.winSize.width;\r\n        // this.bg.height = cc.winSize.height;\r\n        // this.bg.setPosition(this.bg.width/2,this.bg.height/2);\r\n        // this.bg.color = Colors.overBg;\r\n        // 文字层\r\n        // this.gameText.setPosition(cc.winSize.width/2,cc.winSize.height/2);\r\n        // var action = cc.repeatForever(cc.sequence(cc.scaleTo(1, 1.5),cc.scaleTo(1,1)));\r\n        // this.gameText.runAction(action);\r\n        // 播放结束音效\r\n        cc.audioEngine.playEffect(this.overEffect);\r\n        // 分数\r\n        // this.scoreText.setPosition(this.gameText.x,this.gameText.y+200);\r\n        // this.score = G.game.score;\r\n        // this.schedule(this.updateScore,0.1,cc.REPEAT_FOREVER,2);\r\n        // 点击分数立即加到最高分数\r\n        // var self = this;\r\n        // this.bg.on(cc.Node.EventType.TOUCH_START,function(event){\r\n        //     cc.log(\"score text touch\");\r\n        //     cc.audioEngine.playEffect(self.addCoin);\r\n        //     self.changeScore = self.score;\r\n        //     self.scoreLabel.string = \"最终分数：\"+self.changeScore;\r\n        // }, this.bg);\r\n        // 返回按钮\r\n        // this.backBtn.setPosition(this.gameText.x,this.gameText.y-200);\r\n        this.scoreLabel.string = \"\" + G.game.gametime;\r\n        this.maxscoreLabel.string = \"历史最高分:\" + G.game.gametime;\r\n        cc.audioEngine.playEffect(this.addCoin);\r\n\r\n        if(sdkConfig.runSDK == sdkConfig.sdk_key_xiaomi){\r\n            this.bencidefen_but_01.active = false;\r\n        }\r\n\r\n        if(sdkConfig.runSDK == sdkConfig.sdk_key_oppo){\r\n            this.bencidefen_but_01.active = false;\r\n        }\r\n        if(sdkConfig.runSDK == sdkConfig.sdk_key_vivo){\r\n            this.bencidefen_but_01.active = false;\r\n        }\r\n        // SNS.submit(G.game.score);\r\n    },\r\n    start() {\r\n\r\n        // SNS.submit(G.lv, G.game.gametime);\r\n    },\r\n    // updateScore() {\r\n    //     if (this.score <= this.changeScore) {\r\n    //         this.unschedule(this.updateScore);\r\n    //     }\r\n    //     this.changeScore += 20;\r\n    //     this.changeScore = this.changeScore > this.score ? this.score : this.changeScore;\r\n    //     // 添加音效\r\n    //     cc.audioEngine.playEffect(this.addCoin);\r\n\r\n    // },\r\n\r\n\r\n\r\n    ad() {\r\n        SNS.hideAD();\r\n        SNS.showVideo(() => {\r\n            G.addtime = 30;\r\n            cc.director.loadScene(\"Game\");\r\n            G.Tip.show(\"时间已增加\");\r\n          }, () => {\r\n              G.Tip.show(\"看完广告获得奖励\");\r\n        });\r\n        return;\r\n        //修改\r\n        cc.log(\"开启分享\");\r\n        SNS.share(\"快来帮我一下~\", () => {\r\n\r\n            G.addtime = 30;\r\n            cc.director.loadScene(\"Game\");\r\n\r\n            G.Tip.show(\"时间已增加\");\r\n\r\n        }, () => {\r\n\r\n            G.Tip.show(\"分享失败\");\r\n        });\r\n\r\n    },\r\n\r\n\r\n    restart() {\r\n        SNS.hideAD();\r\n        cc.director.loadScene(\"Game\");\r\n    },\r\n    share() {\r\n        cc.log(\"开启分享\");\r\n        SNS.shareLocal(\"快来帮我一下~\", () => {\r\n             G.tempfire = 5;\r\n             //SNS.hidebbs();\r\n             cc.director.loadScene(\"Game\");\r\n        }, () => {\r\n\r\n            G.Tip.show(\"分享失败\");\r\n        });\r\n    },\r\n    back: function () {\r\n        // G.score = 0;\r\n        SNS.hideAD();\r\n        cc.audioEngine.playEffect(this.btnEffect);\r\n        cc.director.loadScene(\"Home\");\r\n    }\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});"]}